<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PhiSch.org - STM32F4 Library: usb::stm32f4::InEndpointViaSTM32F4 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PhiSch.org - STM32F4 Library
   &#160;<span id="projectnumber">4f22309+</span>
   </div>
   <div id="projectbrief">PhiSch.org - STM32F4 Lib</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>usb</b></li><li class="navelem"><b>stm32f4</b></li><li class="navelem"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html">InEndpointViaSTM32F4</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">usb::stm32f4::InEndpointViaSTM32F4 Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>IN Endpoint driver for STM32F4.  
 <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_in_endpoint_via_s_t_m32_f4_8hpp_source.html">common/stm32f4/usb/include/usb/InEndpointViaSTM32F4.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4_1_1irq__handler__s.html">irq_handler_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for IRQ Handler.  <a href="structusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4_1_1irq__handler__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4_1_1_tx_buffer__s.html">TxBuffer_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae67ebdb0c9d627e908b2ddd8f32e49ff"><td class="memItemLeft" align="right" valign="top"><a id="ae67ebdb0c9d627e908b2ddd8f32e49ff"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>InEndpointViaSTM32F4</b> (<a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html">UsbDeviceViaSTM32F4</a> &amp;p_usbDevice, const size_t p_fifoSzInWords, const unsigned p_endpointNumber=0)</td></tr>
<tr class="separator:ae67ebdb0c9d627e908b2ddd8f32e49ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae645af429302e45e24985f342b49c9b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#ae645af429302e45e24985f342b49c9b1">handleIrq</a> (void)</td></tr>
<tr class="memdesc:ae645af429302e45e24985f342b49c9b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">IN Endpoint specific IRQ Handler.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#ae645af429302e45e24985f342b49c9b1">More...</a><br /></td></tr>
<tr class="separator:ae645af429302e45e24985f342b49c9b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bf9c92c521a7abd4220f36b99e762ba"><td class="memItemLeft" align="right" valign="top"><a id="a6bf9c92c521a7abd4220f36b99e762ba"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setupTxFifoNumber</b> (const unsigned p_fifoNumber) const</td></tr>
<tr class="separator:a6bf9c92c521a7abd4220f36b99e762ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c684a4ddbc86034cff6ec057f3885b4"><td class="memItemLeft" align="right" valign="top"><a id="a2c684a4ddbc86034cff6ec057f3885b4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setPacketSize</b> (const unsigned p_packetSize) const</td></tr>
<tr class="separator:a2c684a4ddbc86034cff6ec057f3885b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49faf0e66b206f1c22afb4d30af9d93"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#af49faf0e66b206f1c22afb4d30af9d93">getFifoSzInWords</a> (void) const</td></tr>
<tr class="memdesc:af49faf0e66b206f1c22afb4d30af9d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the IN Endpoint's Tx FIFO Size.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#af49faf0e66b206f1c22afb4d30af9d93">More...</a><br /></td></tr>
<tr class="separator:af49faf0e66b206f1c22afb4d30af9d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805988d3f915d99d79027ad6f8d911e4"><td class="memItemLeft" align="right" valign="top">constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a805988d3f915d99d79027ad6f8d911e4">getEndpointNumber</a> (void) const</td></tr>
<tr class="memdesc:a805988d3f915d99d79027ad6f8d911e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the IN Endpoint's Number.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a805988d3f915d99d79027ad6f8d911e4">More...</a><br /></td></tr>
<tr class="separator:a805988d3f915d99d79027ad6f8d911e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b8f3c1b614db0485cbaa18ac964b32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#ac1b8f3c1b614db0485cbaa18ac964b32">write</a> (const uint8_t *const p_data, const size_t p_length)</td></tr>
<tr class="memdesc:ac1b8f3c1b614db0485cbaa18ac964b32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write Data to IN Endpoint and trigger transmission to Host.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#ac1b8f3c1b614db0485cbaa18ac964b32">More...</a><br /></td></tr>
<tr class="separator:ac1b8f3c1b614db0485cbaa18ac964b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37089e609d07cad6f17b429fa37c231f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a37089e609d07cad6f17b429fa37c231f">writeString</a> (const ::<a class="el" href="structusb_1_1_usb_string_descriptor_t.html">usb::UsbStringDescriptor</a> &amp;p_string, const size_t p_len)</td></tr>
<tr class="memdesc:a37089e609d07cad6f17b429fa37c231f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write USB String Data to IN Endpoint and trigger tansmission to Host.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a37089e609d07cad6f17b429fa37c231f">More...</a><br /></td></tr>
<tr class="separator:a37089e609d07cad6f17b429fa37c231f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac578a44305c33c1e312fd17011b2bbd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#ac578a44305c33c1e312fd17011b2bbd1">enable</a> (const <a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html#a90819c81ee82f974d92f9eac5449d1df">UsbDeviceViaSTM32F4::EndpointType_e</a> &amp;p_endpointType) const</td></tr>
<tr class="memdesc:ac578a44305c33c1e312fd17011b2bbd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the IN Endpoint in the STM32F4 Device.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#ac578a44305c33c1e312fd17011b2bbd1">More...</a><br /></td></tr>
<tr class="separator:ac578a44305c33c1e312fd17011b2bbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0adc6c8583cb292f1fb602f45383891b"><td class="memItemLeft" align="right" valign="top"><a id="a0adc6c8583cb292f1fb602f45383891b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>disable</b> (void) const</td></tr>
<tr class="separator:a0adc6c8583cb292f1fb602f45383891b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a730260cc33b571f91b952d43d2aaf07a"><td class="memItemLeft" align="right" valign="top">typedef void(usb::stm32f4::InEndpointViaSTM32F4::*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a730260cc33b571f91b952d43d2aaf07a">irq_handler_fn</a>) ()</td></tr>
<tr class="memdesc:a730260cc33b571f91b952d43d2aaf07a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private Typedef for the Endpoint IRQ Handlers.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a730260cc33b571f91b952d43d2aaf07a">More...</a><br /></td></tr>
<tr class="separator:a730260cc33b571f91b952d43d2aaf07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16f30e8bb17f493bf36db2047d50b4bf"><td class="memItemLeft" align="right" valign="top"><a id="a16f30e8bb17f493bf36db2047d50b4bf"></a>
typedef struct <a class="el" href="structusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4_1_1irq__handler__s.html">usb::stm32f4::InEndpointViaSTM32F4::irq_handler_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a16f30e8bb17f493bf36db2047d50b4bf">irq_handler_t</a></td></tr>
<tr class="memdesc:a16f30e8bb17f493bf36db2047d50b4bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Typedef for IRQ Handler. <br /></td></tr>
<tr class="separator:a16f30e8bb17f493bf36db2047d50b4bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b2bedf81668ced90249d333215a9966"><td class="memItemLeft" align="right" valign="top"><a id="a6b2bedf81668ced90249d333215a9966"></a>
typedef struct <a class="el" href="structusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4_1_1_tx_buffer__s.html">usb::stm32f4::InEndpointViaSTM32F4::TxBuffer_s</a>&#160;</td><td class="memItemRight" valign="bottom"><b>TxBuffer_t</b></td></tr>
<tr class="separator:a6b2bedf81668ced90249d333215a9966"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab7fff70af71bf3c7a3af652069b5a908"><td class="memItemLeft" align="right" valign="top"><a id="ab7fff70af71bf3c7a3af652069b5a908"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setNack</b> (const bool p_nack) const</td></tr>
<tr class="separator:ab7fff70af71bf3c7a3af652069b5a908"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae75542f8cea7bd8af6ba3113b614c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#aeae75542f8cea7bd8af6ba3113b614c6">startTx</a> (void)</td></tr>
<tr class="memdesc:aeae75542f8cea7bd8af6ba3113b614c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start Transmission of Data.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#aeae75542f8cea7bd8af6ba3113b614c6">More...</a><br /></td></tr>
<tr class="separator:aeae75542f8cea7bd8af6ba3113b614c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e06c0c59ec4caffd13061e88be82c7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a5e06c0c59ec4caffd13061e88be82c7d">txData</a> (void)</td></tr>
<tr class="memdesc:a5e06c0c59ec4caffd13061e88be82c7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy Raw Data Buffer to Tx FIFO.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a5e06c0c59ec4caffd13061e88be82c7d">More...</a><br /></td></tr>
<tr class="separator:a5e06c0c59ec4caffd13061e88be82c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8637e2d3f962351e12b3d4e63e072021"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a8637e2d3f962351e12b3d4e63e072021">txString</a> (void)</td></tr>
<tr class="memdesc:a8637e2d3f962351e12b3d4e63e072021"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy String Descriptor to Tx FIFO.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a8637e2d3f962351e12b3d4e63e072021">More...</a><br /></td></tr>
<tr class="separator:a8637e2d3f962351e12b3d4e63e072021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ac9e659a1ed492a4ef9ebbd0b72aa2"><td class="memItemLeft" align="right" valign="top"><a id="ac4ac9e659a1ed492a4ef9ebbd0b72aa2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleTxFifoEmpty</b> (void)</td></tr>
<tr class="separator:ac4ac9e659a1ed492a4ef9ebbd0b72aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bdc5f6d7de508f863234d11bc2fceff"><td class="memItemLeft" align="right" valign="top"><a id="a8bdc5f6d7de508f863234d11bc2fceff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleNakEffective</b> (void)</td></tr>
<tr class="separator:a8bdc5f6d7de508f863234d11bc2fceff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae632c6504a0150d95742d52ed3872a93"><td class="memItemLeft" align="right" valign="top"><a id="ae632c6504a0150d95742d52ed3872a93"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleInTokenWhenTxFifoEmpty</b> (void)</td></tr>
<tr class="separator:ae632c6504a0150d95742d52ed3872a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3690094a4e5d02def0616f323b164718"><td class="memItemLeft" align="right" valign="top"><a id="a3690094a4e5d02def0616f323b164718"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleTimeoutCondition</b> (void)</td></tr>
<tr class="separator:a3690094a4e5d02def0616f323b164718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf3404c692ac7101c967453b3f79683"><td class="memItemLeft" align="right" valign="top"><a id="afcf3404c692ac7101c967453b3f79683"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleEndpointDisabled</b> (void)</td></tr>
<tr class="separator:afcf3404c692ac7101c967453b3f79683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fa738382849bd0f7e955de2bad69961"><td class="memItemLeft" align="right" valign="top"><a id="a9fa738382849bd0f7e955de2bad69961"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>handleTransferComplete</b> (void)</td></tr>
<tr class="separator:a9fa738382849bd0f7e955de2bad69961"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8213b0d1674ec30addef6b2072afb4"><td class="memItemLeft" align="right" valign="top"><a id="a4a8213b0d1674ec30addef6b2072afb4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>reset</b> (void) const</td></tr>
<tr class="separator:a4a8213b0d1674ec30addef6b2072afb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232783fb677a0141a156a8dc322f747b"><td class="memItemLeft" align="right" valign="top"><a id="a232783fb677a0141a156a8dc322f747b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>disableIrq</b> (void) const</td></tr>
<tr class="separator:a232783fb677a0141a156a8dc322f747b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af99e501e2da4b86ba45ada0cf0111764"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#af99e501e2da4b86ba45ada0cf0111764">enableIrq</a> (void) const</td></tr>
<tr class="memdesc:af99e501e2da4b86ba45ada0cf0111764"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable the endpoint's IRQ.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#af99e501e2da4b86ba45ada0cf0111764">More...</a><br /></td></tr>
<tr class="separator:af99e501e2da4b86ba45ada0cf0111764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701f13c4f56df2085eef4b1142fe108b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a701f13c4f56df2085eef4b1142fe108b">fillTxFifo</a> (void)</td></tr>
<tr class="memdesc:a701f13c4f56df2085eef4b1142fe108b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill Tx FIFO with to-be-transmitted Data.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a701f13c4f56df2085eef4b1142fe108b">More...</a><br /></td></tr>
<tr class="separator:a701f13c4f56df2085eef4b1142fe108b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1737909a818a484c6070564b24d24a"><td class="memItemLeft" align="right" valign="top"><a id="a6e1737909a818a484c6070564b24d24a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>markTxBufferComplete</b> (void)</td></tr>
<tr class="separator:a6e1737909a818a484c6070564b24d24a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ccbae238cbc11fcb22e32f549ce3ff"><td class="memItemLeft" align="right" valign="top"><a id="aa2ccbae238cbc11fcb22e32f549ce3ff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setupEndpointType</b> (const <a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html#a90819c81ee82f974d92f9eac5449d1df">UsbDeviceViaSTM32F4::EndpointType_e</a> &amp;p_endpointType) const</td></tr>
<tr class="separator:aa2ccbae238cbc11fcb22e32f549ce3ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ab3793ef61517e06f74cd7a393655f"><td class="memItemLeft" align="right" valign="top"><a id="a45ab3793ef61517e06f74cd7a393655f"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>getPacketSize</b> (void) const</td></tr>
<tr class="separator:a45ab3793ef61517e06f74cd7a393655f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f844c4bfbaa016f2b0bff55927be0b7"><td class="memItemLeft" align="right" valign="top"><a id="a5f844c4bfbaa016f2b0bff55927be0b7"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>getNumPackets</b> (const size_t p_txLength, const size_t p_packetSz) const</td></tr>
<tr class="separator:a5f844c4bfbaa016f2b0bff55927be0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a75b5e981e029ae23c0ac7116e218fa49"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html">UsbDeviceViaSTM32F4</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a75b5e981e029ae23c0ac7116e218fa49">m_usbDevice</a></td></tr>
<tr class="memdesc:a75b5e981e029ae23c0ac7116e218fa49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference to the STM32F4 USB Device Driver Object.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a75b5e981e029ae23c0ac7116e218fa49">More...</a><br /></td></tr>
<tr class="separator:a75b5e981e029ae23c0ac7116e218fa49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add01632b3a84fb7a19ec00404f3b1059"><td class="memItemLeft" align="right" valign="top">const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#add01632b3a84fb7a19ec00404f3b1059">m_endpointNumber</a></td></tr>
<tr class="memdesc:add01632b3a84fb7a19ec00404f3b1059"><td class="mdescLeft">&#160;</td><td class="mdescRight">IN Endpoint Number (without Direction Bit).  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#add01632b3a84fb7a19ec00404f3b1059">More...</a><br /></td></tr>
<tr class="separator:add01632b3a84fb7a19ec00404f3b1059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbee5d5496f9b79d2a4e7ea2484eb723"><td class="memItemLeft" align="right" valign="top"><a id="abbee5d5496f9b79d2a4e7ea2484eb723"></a>
const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#abbee5d5496f9b79d2a4e7ea2484eb723">m_fifoSzInWords</a></td></tr>
<tr class="memdesc:abbee5d5496f9b79d2a4e7ea2484eb723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Endpoint FIFO Size in Words, i.e. units of 4 Bytes. <br /></td></tr>
<tr class="separator:abbee5d5496f9b79d2a4e7ea2484eb723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5cdd8eb53eb50c43e2f64be21268ce3"><td class="memItemLeft" align="right" valign="top"><a id="aa5cdd8eb53eb50c43e2f64be21268ce3"></a>
USB_OTG_INEndpointTypeDef *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#aa5cdd8eb53eb50c43e2f64be21268ce3">m_endpoint</a></td></tr>
<tr class="memdesc:aa5cdd8eb53eb50c43e2f64be21268ce3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the ST-provided structure to access the Hardware registers. <br /></td></tr>
<tr class="separator:aa5cdd8eb53eb50c43e2f64be21268ce3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2733b82daa8d68ddea8861d8185a1a5"><td class="memItemLeft" align="right" valign="top">volatile uint32_t *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#ab2733b82daa8d68ddea8861d8185a1a5">m_fifoAddr</a></td></tr>
<tr class="memdesc:ab2733b82daa8d68ddea8861d8185a1a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the IN endpoint's Tx FIFO.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#ab2733b82daa8d68ddea8861d8185a1a5">More...</a><br /></td></tr>
<tr class="separator:ab2733b82daa8d68ddea8861d8185a1a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f64eec5b26b7813b33e302ee2a8da30"><td class="memItemLeft" align="right" valign="top"><a id="a2f64eec5b26b7813b33e302ee2a8da30"></a>
<a class="el" href="structusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4_1_1_tx_buffer__s.html">TxBuffer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_txBuffer</b></td></tr>
<tr class="separator:a2f64eec5b26b7813b33e302ee2a8da30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a19e97672e63568e2f3d87b4dc0e94fca"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a16f30e8bb17f493bf36db2047d50b4bf">irq_handler_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a19e97672e63568e2f3d87b4dc0e94fca">m_irq_handler</a> []</td></tr>
<tr class="memdesc:a19e97672e63568e2f3d87b4dc0e94fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table of IN Endpoint Interrupt Handlers.  <a href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a19e97672e63568e2f3d87b4dc0e94fca">More...</a><br /></td></tr>
<tr class="separator:a19e97672e63568e2f3d87b4dc0e94fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>IN Endpoint driver for STM32F4. </p>
<p>This class handles all IN Endpoint specific aspects of the STM32F4 USB Core.</p>
<p>It implements the interface to the device-independent USB layer.</p>
<p>It also exposes an Interface to <a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html" title="Driver for the STM32F4 USB On-the-Go (OTG) Core in USB Device Mode.">usb::stm32f4::UsbDeviceViaSTM32F4</a> to handle callbacks from the USB Device Class. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a730260cc33b571f91b952d43d2aaf07a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a730260cc33b571f91b952d43d2aaf07a">&#9670;&nbsp;</a></span>irq_handler_fn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(usb::stm32f4::InEndpointViaSTM32F4::* usb::stm32f4::InEndpointViaSTM32F4::irq_handler_fn) ()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private Typedef for the Endpoint IRQ Handlers. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a19e97672e63568e2f3d87b4dc0e94fca" title="Table of IN Endpoint Interrupt Handlers.">m_irq_handler</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac578a44305c33c1e312fd17011b2bbd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac578a44305c33c1e312fd17011b2bbd1">&#9670;&nbsp;</a></span>enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usb::stm32f4::InEndpointViaSTM32F4::enable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html#a90819c81ee82f974d92f9eac5449d1df">UsbDeviceViaSTM32F4::EndpointType_e</a> &amp;&#160;</td>
          <td class="paramname"><em>p_endpointType</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enable the IN Endpoint in the STM32F4 Device. </p>
<p>This method will enable the IN Endpoint in the STM32F4 Device with the desired attributes. These are mostly operations on the <code>DIEPCTL</code> register.</p>
<ul>
<li>Packet Size is set up as the minimum of the Endpoint's FIFO Size (<a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#abbee5d5496f9b79d2a4e7ea2484eb723" title="Endpoint FIFO Size in Words, i.e. units of 4 Bytes.">m_fifoSzInWords</a>) and the enumerated speed's max. Packet Size as per USB specification. So the FIFO Size can be larger than the max. Packet Size, but not smaller. This is a requirement from the STM32F4 manual.</li>
<li>The Tx FIFO number is set up to <a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#add01632b3a84fb7a19ec00404f3b1059" title="IN Endpoint Number (without Direction Bit).">m_endpointNumber</a>. This means the endpoint number and the FIFO number will always be the same, even though the USB Hardware theoretically supports different mappings.</li>
<li>Set up the Endpoint Type according to parameter <code>p_endpointType</code>.</li>
<li>Set the <code>NAK</code> bit so the USB Host knows there is no data, yet.</li>
<li>Mark the endpoint as active.</li>
<li>Enable the Endpoint's IRQ.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_endpointType</td><td>Type of Endpoint (Control, Bulk, Interrupt, Isochronous). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af99e501e2da4b86ba45ada0cf0111764"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af99e501e2da4b86ba45ada0cf0111764">&#9670;&nbsp;</a></span>enableIrq()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void usb::stm32f4::InEndpointViaSTM32F4::enableIrq </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable the endpoint's IRQ. </p>
<p>Unmasks the IN Endpoint's IRQ in the STM32F4 USB Device Hardware via <a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html#ad949be0e5b497c5458ec9ba5240380ff" title="Enable the given IN Endpoints IRQs.">usb::stm32f4::UsbDeviceViaSTM32F4::enableEndpointIrq</a>. </p>

</div>
</div>
<a id="a701f13c4f56df2085eef4b1142fe108b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a701f13c4f56df2085eef4b1142fe108b">&#9670;&nbsp;</a></span>fillTxFifo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void usb::stm32f4::InEndpointViaSTM32F4::fillTxFifo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill Tx FIFO with to-be-transmitted Data. </p>
<p>Copies Data from the Transmission Buffer to the Endpoint's Tx FIFO. String Transfers are handled via <a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a8637e2d3f962351e12b3d4e63e072021" title="Copy String Descriptor to Tx FIFO.">usb::stm32f4::InEndpointViaSTM32F4::txString</a>. This is because the µC Buffer for String Descriptors encodes <code>NULL</code> -terminated ASCII strings, but USB defines a different format. All other transfers are handled via <a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a5e06c0c59ec4caffd13061e88be82c7d" title="Copy Raw Data Buffer to Tx FIFO.">usb::stm32f4::InEndpointViaSTM32F4::txData</a>. </p>

</div>
</div>
<a id="a805988d3f915d99d79027ad6f8d911e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a805988d3f915d99d79027ad6f8d911e4">&#9670;&nbsp;</a></span>getEndpointNumber()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned usb::stm32f4::InEndpointViaSTM32F4::getEndpointNumber </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the IN Endpoint's Number. </p>
<p>Returns the IN Endpoint's Number. Please note that this is without direction encoding, i.e. there can be both an IN and an OUT Endpoint with the same number.</p>
<dl class="section return"><dt>Returns</dt><dd>unsigned The IN Endpoint's Number (without Direction Bit). </dd></dl>

</div>
</div>
<a id="af49faf0e66b206f1c22afb4d30af9d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af49faf0e66b206f1c22afb4d30af9d93">&#9670;&nbsp;</a></span>getFifoSzInWords()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t usb::stm32f4::InEndpointViaSTM32F4::getFifoSzInWords </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the IN Endpoint's Tx FIFO Size. </p>
<dl class="section return"><dt>Returns</dt><dd>size_t FIFO Size in Words, i.e. units of 4 Bytes. </dd></dl>

</div>
</div>
<a id="ae645af429302e45e24985f342b49c9b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae645af429302e45e24985f342b49c9b1">&#9670;&nbsp;</a></span>handleIrq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usb::stm32f4::InEndpointViaSTM32F4::handleIrq </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IN Endpoint specific IRQ Handler. </p>
<p>IRQ Handler called from <a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html" title="Driver for the STM32F4 USB On-the-Go (OTG) Core in USB Device Mode.">usb::stm32f4::UsbDeviceViaSTM32F4</a>. </p>

</div>
</div>
<a id="aeae75542f8cea7bd8af6ba3113b614c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae75542f8cea7bd8af6ba3113b614c6">&#9670;&nbsp;</a></span>startTx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void usb::stm32f4::InEndpointViaSTM32F4::startTx </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start Transmission of Data. </p>
<p>Start Transmission of the requested Data Transmission.</p>
<ul>
<li>Sets up the <code>DIEPTSIZ</code> register for the requested Data Transmission.<ul>
<li>Number of Packets is the Number of Bytes divided by Packet Size.</li>
<li>Number of Bytes is the total Transfer Size (in Bytes).</li>
</ul>
</li>
<li>Enable the Endpoint FIFO IRQ in <a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a75b5e981e029ae23c0ac7116e218fa49" title="Reference to the STM32F4 USB Device Driver Object.">m_usbDevice</a>.</li>
<li>Start Transmission by setting the <code>EPENA</code> bit in the <code>DIEPCTL</code> register.</li>
<li>Clear the <code>NAK</code> bit.</li>
<li>Fill the Tx FIFO with the Data requested for Transmission via <a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a701f13c4f56df2085eef4b1142fe108b" title="Fill Tx FIFO with to-be-transmitted Data.">usb::stm32f4::InEndpointViaSTM32F4::fillTxFifo</a> </li>
</ul>

</div>
</div>
<a id="a5e06c0c59ec4caffd13061e88be82c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e06c0c59ec4caffd13061e88be82c7d">&#9670;&nbsp;</a></span>txData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void usb::stm32f4::InEndpointViaSTM32F4::txData </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy Raw Data Buffer to Tx FIFO. </p>
<p>This method will block if there is not enough space in the Tx FIFO to receive the data. </p>

</div>
</div>
<a id="a8637e2d3f962351e12b3d4e63e072021"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8637e2d3f962351e12b3d4e63e072021">&#9670;&nbsp;</a></span>txString()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void usb::stm32f4::InEndpointViaSTM32F4::txString </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy String Descriptor to Tx FIFO. </p>
<p>The String Desciptors in the µC Memory are encoded as <code>NULL</code> terminated ASCII strings to save ROM Space. However, USB defines a different String Format:</p><ul>
<li>First two bytes encodes the String's Length (Little Endian 16 Bit Value).</li>
<li>Remaining Bytes encode 16-Bit Characters, also Little Endian encoded.</li>
</ul>
<p>A single ASCII character therefore needs to be extended to a two-byte value. In order to safe µC RAM, the encoding is performed when copying String Data to the Tx FIFO.</p>
<p>This method will block if there is not enough space in the Tx FIFO to receive the data. </p>

</div>
</div>
<a id="ac1b8f3c1b614db0485cbaa18ac964b32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1b8f3c1b614db0485cbaa18ac964b32">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usb::stm32f4::InEndpointViaSTM32F4::write </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *const&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>p_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write Data to IN Endpoint and trigger transmission to Host. </p>
<p>This method allows a user to trigger data transmission to the Host. The method will block if not enough space is available in the Tx FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_data</td><td>Pointer to data buffer that is to be transmitted. Can be <code>NULL</code> in which case an empty packet is transmitted. </td></tr>
    <tr><td class="paramname">p_length</td><td>Length of transmission. Can be zero in which case an empty packet is transmitted. The data buffer pointed to <code>p_data</code> must be large enough and valid. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a37089e609d07cad6f17b429fa37c231f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37089e609d07cad6f17b429fa37c231f">&#9670;&nbsp;</a></span>writeString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usb::stm32f4::InEndpointViaSTM32F4::writeString </td>
          <td>(</td>
          <td class="paramtype">const ::<a class="el" href="structusb_1_1_usb_string_descriptor_t.html">usb::UsbStringDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>p_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>p_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write USB String Data to IN Endpoint and trigger tansmission to Host. </p>
<p>This method allows a user to transmit USB String data to the Host. The method will block if not enough space is available in the Tx FIFO.</p>
<p>Ultimately, it is used from the USB Default Control Pipe class to transmit String Descriptors.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classusb_1_1_usb_control_pipe.html#ab620922e96ec45d6a44785e0b1dca606" title="Transmit String Descriptor to Host.">usb::UsbControlPipe::getStringDescriptor</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_str</td><td>USB String Descriptor to be transmitted. </td></tr>
    <tr><td class="paramname">p_len</td><td>Transmission length. Will be truncated to String Descriptor length. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="add01632b3a84fb7a19ec00404f3b1059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add01632b3a84fb7a19ec00404f3b1059">&#9670;&nbsp;</a></span>m_endpointNumber</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned usb::stm32f4::InEndpointViaSTM32F4::m_endpointNumber</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>IN Endpoint Number (without Direction Bit). </p>
<p>IN Endpoint Number, encoded without the Direction Bit. Can be set to a range between 0 and <a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html#a83b02c4cb8f954bca6ca617fc0e6665e" title="Max. number of IN endpoints supported by this Hardware.">usb::stm32f4::UsbDeviceViaSTM32F4::m_maxInEndpoints</a> as it's used to refer to the IN Endpoint Number within the STM32F4 USB Device Hardware. </p>

</div>
</div>
<a id="ab2733b82daa8d68ddea8861d8185a1a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2733b82daa8d68ddea8861d8185a1a5">&#9670;&nbsp;</a></span>m_fifoAddr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint32_t* const usb::stm32f4::InEndpointViaSTM32F4::m_fifoAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the IN endpoint's Tx FIFO. </p>
<p>This is used by <a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a8637e2d3f962351e12b3d4e63e072021" title="Copy String Descriptor to Tx FIFO.">txString</a> and <a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a5e06c0c59ec4caffd13061e88be82c7d" title="Copy Raw Data Buffer to Tx FIFO.">txData</a> to write Data into the Hardware Tx FIFO. </p>

</div>
</div>
<a id="a19e97672e63568e2f3d87b4dc0e94fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19e97672e63568e2f3d87b4dc0e94fca">&#9670;&nbsp;</a></span>m_irq_handler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classusb_1_1stm32f4_1_1_in_endpoint_via_s_t_m32_f4.html#a16f30e8bb17f493bf36db2047d50b4bf">InEndpointViaSTM32F4::irq_handler_t</a> usb::stm32f4::InEndpointViaSTM32F4::m_irq_handler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    { USB_OTG_DIEPINT_XFRC,     &amp;InEndpointViaSTM32F4::handleTransferComplete },</div>
<div class="line">    { USB_OTG_DIEPINT_TXFE,     &amp;InEndpointViaSTM32F4::handleTxFifoEmpty },</div>
<div class="line">    { USB_OTG_DIEPINT_ITTXFE,   &amp;InEndpointViaSTM32F4::handleInTokenWhenTxFifoEmpty },</div>
<div class="line">    </div>
<div class="line">    { USB_OTG_DIEPINT_TOC,      &amp;InEndpointViaSTM32F4::handleTimeoutCondition },</div>
<div class="line">    { USB_OTG_DIEPINT_EPDISD,   &amp;InEndpointViaSTM32F4::handleEndpointDisabled },</div>
<div class="line">    { 0, NULL }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Table of IN Endpoint Interrupt Handlers. </p>
<p>Table of interrupt handlers. Is handled in order from first to last, i.e. functions listed earlier are handled before the functions listed later. </p>

</div>
</div>
<a id="a75b5e981e029ae23c0ac7116e218fa49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75b5e981e029ae23c0ac7116e218fa49">&#9670;&nbsp;</a></span>m_usbDevice</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html">UsbDeviceViaSTM32F4</a>&amp; usb::stm32f4::InEndpointViaSTM32F4::m_usbDevice</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reference to the STM32F4 USB Device Driver Object. </p>
<p>Reference to an object of class <a class="el" href="classusb_1_1stm32f4_1_1_usb_device_via_s_t_m32_f4.html" title="Driver for the STM32F4 USB On-the-Go (OTG) Core in USB Device Mode.">usb::stm32f4::UsbDeviceViaSTM32F4</a> which encapsulates all STM32F4-specific operations for USB Device mode. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>common/stm32f4/usb/include/usb/<a class="el" href="_in_endpoint_via_s_t_m32_f4_8hpp_source.html">InEndpointViaSTM32F4.hpp</a></li>
<li>common/stm32f4/usb/InEndpointViaSTM32F4.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
